/* Services */

angular.module('lorenz').

  constant('lengths', {

    // The lengths of the various wheels

    chi: {
      w1: 41,
      w2: 31,
      w3: 29,
      w4: 26,
      w5: 23
    },
    motor: {
      w1: 61,
      w2: 37
    },
    psi: {
      w1: 43,
      w2: 47,
      w3: 51,
      w4: 53,
      w5: 59
    }

  }).


  service('initialPatterns', function() {

    this.chi = {
      w1: [ 0,  1,  0,  1,  0,  1,  0,  0,  1,  1,
            1,  1,  1,  0,  1,  0,  1,  0,  0,  0,
            0,  0,  1,  0,  1,  1,  0,  0,  0,  0,
            0,  0,  1,  1,  1,  1,  0,  1,  1,  0,
            1 ],
      w2: [ 1,  1,  1,  1,  1,  1,  1,  0,  1,  0,
            1,  0,  0,  1,  0,  1,  1,  1,  1,  1,
            0,  1,  1,  0,  0,  1,  0,  1,  0,  0,
            1 ],
      w3: [ 0,  0,  0,  0,  0,  0,  0,  1,  0,  1,
            0,  0,  1,  0,  0,  1,  1,  1,  1,  0,
            1,  1,  0,  0,  0,  0,  0,  1,  0 ],
      w4: [ 1,  0,  0,  0,  0,  1,  1,  1,  0,  1,
            0,  0,  1,  0,  0,  1,  0,  1,  0,  0,
            0,  0,  0,  0,  1,  1 ],
      w5: [ 0,  1,  1,  0,  1,  1,  0,  1,  0,  0,
            0,  1,  1,  0,  1,  1,  1,  1,  1,  0,
            0,  1,  1 ]
    };

    this.motor = {
      w1: [ 0,  0,  0,  0,  1,  1,  1,  0,  1,  1,
            1,  0,  1,  1,  0,  1,  0,  0,  0,  0,
            0,  1,  1,  1,  1,  0,  0,  0,  1,  0,
            0,  1,  0,  0,  1,  1,  1,  1,  0,  0,
            1,  0,  1,  1,  0,  1,  0,  1,  0,  0,
            0,  0,  1,  1,  1,  0,  1,  0,  0,  1,
            1 ],
      w2: [ 1,  0,  0,  1,  1,  1,  0,  0,  1,  0,
            0,  0,  0,  1,  0,  0,  0,  1,  1,  0,
            1,  1,  1,  0,  1,  0,  1,  1,  1,  0,
            1,  0,  0,  0,  1,  1,  1 ]
    };

    this.psi = {
      w1: [ 1,  0,  1,  1,  0,  0,  0,  0,  0,  1,
            0,  0,  1,  1,  1,  1,  1,  0,  1,  1,
            0,  1,  1,  0,  1,  1,  1,  1,  1,  0,
            1,  1,  0,  0,  1,  1,  0,  0,  0,  0,
            1,  1,  1 ],
      w2: [ 0,  1,  1,  0,  0,  1,  0,  1,  1,  0,
            1,  1,  1,  0,  0,  0,  1,  0,  1,  0,
            1,  0,  0,  1,  0,  0,  1,  0,  1,  0,
            1,  0,  0,  1,  0,  1,  1,  1,  1,  0,
            1,  0,  0,  0,  0,  1,  1 ],
      w3: [ 1,  1,  1,  1,  1,  1,  1,  0,  1,  1,
            1,  0,  1,  0,  1,  1,  1,  0,  1,  1,
            0,  1,  1,  1,  0,  0,  1,  1,  0,  1,
            1,  0,  1,  0,  0,  1,  0,  1,  1,  1,
            1,  1,  0,  1,  1,  1,  1,  0,  0,  1,
            0 ],
      w4: [ 1,  0,  0,  0,  1,  1,  0,  0,  0,  1,
            1,  1,  0,  0,  1,  1,  1,  1,  1,  1,
            1,  0,  0,  1,  0,  1,  0,  1,  1,  1,
            1,  0,  0,  0,  1,  1,  1,  1,  1,  1,
            0,  1,  0,  0,  0,  1,  0,  0,  1,  1,
            1,  1,  1 ],
      w5: [ 0,  0,  0,  0,  1,  0,  0,  0,  0,  1,
            0,  1,  0,  1,  1,  0,  1,  0,  1,  1,
            0,  1,  1,  0,  1,  1,  1,  0,  1,  0,
            1,  0,  1,  0,  0,  0,  1,  0,  0,  0,
            0,  1,  1,  1,  0,  1,  1,  0,  1,  1,
            1,  0,  0,  1,  0,  0,  0,  0,  1 ]
    };

  }).

  service('converters', function() {

    var orderedChars = [ '/', 'T', '3', 'O', '9', 'H', 'N', 'M',
                         '4', 'L', 'R', 'G', 'I', 'P', 'C', 'V',
                         'E', 'Z', 'D', 'B', 'S', 'Y', 'F', 'X',
                         'A', 'W', 'J', '+', 'U', 'Q', 'K', '8' ];

    this.num2char = function(num) {
      return orderedChars[num];
    };

  });

/**

00000 : /
00001 : T
00010 : 3
00011 : O
00100 : 9
00101 : H
00110 : N
00111 : M
01000 : 4
01001 : L
01010 : R
01011 : G
01100 : I
01101 : P
01110 : C
01111 : V
10000 : E
10001 : Z
10010 : D
10011 : B
10100 : S
10101 : Y
10110 : F
10111 : X
11000 : A
11001 : W
11010 : J
11011 : +
11100 : U
11101 : Q
11110 : K
11111 : 8

**/